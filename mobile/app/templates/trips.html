<ion-view view-title="Your trips">
  <ion-nav-buttons side="right">
    <button class="button" ng-click="refresh()" ng-if="'loading' !== state">
      <i class="ion-refresh"></i>
      Refresh
    </button>
    <button class="button" ng-click="createTrip()" ng-if="canStartTrip && !createTripModal">
      <i class="ion-plus"></i>
      New trip
    </button>
  </ion-nav-buttons>
  <ion-content>
    <ion-spinner icon="lines" ng-show="'loading' === state"></ion-spinner>
    <ion-list ng-show="'loaded' === state">
      <ion-item ng-if="!trips.length">
        <p>Currently no trips</p>
      </ion-item>
      <ion-item ng-repeat="trip in trips" ng-click="goToTrip(trip._id)">
        <h2>{{trip.contents.title}}</h2>
        <p>
          {{ trip.contents.description }}
          <span class="item-note">
            {{ trip.ended_date ? 'Ended' : 'Running' }}
          </span>
        </p>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
